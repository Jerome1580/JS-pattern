<!DOCTYPE html>
<html lang="en">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
</head>
<body>
<script type=text/javascript charset=utf-8>
/*享元模式是一种优化模式。它最适合解决因创建大量类似对象而累及性能的问题。这种模式在javascript中尤其有用，因为复杂的javascript代码可能很快就会用光浏览器的所有可用内存。通过把大量独立对象转化为少量共享对象，可用降低运行web应用程序所需的资源数量。
*/
//享元模式：优化的设计模式 (优化：时间[代码的运行时间]、空间[web浏览器内存])
			

	//享元模式：内在数据static (出厂商、型号、出厂日期)是共用的，静态的；外在数据(拥有者、车牌号、最近登记日期)是不同的	
	
	//出厂商、型号、出厂日期、拥有者、车牌号、最近登记日期
	var Car = function(make ,model , year , owner , tag , renewDate ){
		this.make = make ; 
		this.model = model ; 
		this.year = year ; 
		this.owner = owner ; 
		this.tag = tag ;
		this.renewDate = renewDate;
	};
	Car.prototype = {
		constructor:Car  , 
		getMake :function(){
			return this.make;
		},
		getModel:function(){
			return this.model;
		},
		getYear:function(){
			return this.year;
		},
	};
	
	
	
	var arr = [] ;
	
	var stime = new Date().getTime();
	for(var i = 0 ; i < 5000000; i ++){
		arr.push(new Car('上海大众','迈腾','2012-02-03','zhao','鄂A','2013-04-01'));
	}
	var etime = new Date().getTime();
	alert(etime - stime);
	// 耗时: 734ms  占用内存: 570M

</script>
</body>
</html>
